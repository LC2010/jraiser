/*!
 * jRaiser 2 Javascript Library
 * overlayer - v1.0.0 (2013-04-09T11:00:48+0800)
 * http://jraiser.org/ | Released under MIT license
 */
define("overlayer/1.0.x/",["base/1.0.x/","widget/1.0.x/","dom/1.0.x/"],function(e,t,n){"use strict";var r=e("base/1.0.x/"),i=e("widget/1.0.x/"),s=e("dom/1.0.x/"),o=/MSIE\s(\d+)/.test(window.navigator.userAgent)&&parseInt(RegExp.$1,10)<7;return i.create(function(e){},{_init:function(e){var t=this,n=e.wrapper,r=n.prop("tagName")==="BODY",i=r&&!o,u=t._overlayer=s("<div></div>").css({top:0,left:0,position:i?"fixed":"absolute",display:"none",zIndex:e.zIndex}).on("click",function(){t.trigger("click")});i&&u.css({width:"100%",height:"100%"});var a;o?a=s('<div style="width: 100%; height: 100%;"></div>'):a=u,a.css("backgroundColor",e.backgroundColor),e.className&&a.addClass(e.className),i?t.adjustSize=function(){}:t.adjustSize=function(){var e,i;if(r){var s=document.documentElement;e=Math.max(s.clientWidth,s.scrollWidth),i=Math.max(s.clientHeight,s.scrollHeight)}else e=n.get(0).scrollWidth,i=n.get(0).scrollHeight;t._layerWidth!==e&&(u.css("width",e),t._layerWidth=e),t._layerHeight!==i&&(u.css("height",i),t._layerHeight=i)},r||n.css("position","relative"),t.adjustSize(),i||s(window).on("resize",t.adjustSize);if(o){var f=s('<iframe style="width: 100%; height: 100%; position: absolute; left: 0; top: 0; z-index: -1;" src="javascript:false;" frameborder="0" scrolling="no"></iframe>');u.append(f),u.append(a)}n.append(u),e.visible&&t.show()},_destroy:function(){var e=this;s(window).off("resize",e.adjustSize),delete e.adjustSize,e._overlayer.remove(),delete e._overlayer,delete e._layerWidth,delete e._layerHeight,delete e._visible},show:function(){this.adjustSize(),this._doAction(!0)},hide:function(){this._doAction(!1)},toggle:function(){this._visible?this.hide():this.show()},_doAction:function(e){if(e===this._visible)return;var t=this,n=t.trigger(e?"beforeshow":"beforehide");if(n.isDefaultPrevented())return;var i=t._overlayer;if(i){e&&t.adjustSize();var s=t._options.fade;s?(e&&i.css({opacity:0,display:"block"}),i.animate({opacity:e?t._options.opacity:0,display:e?"block":"none"},r.mix({callback:function(){t._actionDone(e)}},s,{overwrite:!1}))):(i[e?"show":"hide"](),t._actionDone(e))}},_actionDone:function(e){this._visible=e,this.trigger(e?"aftershow":"afterhide")}},{opacity:.6,zIndex:1e3,backgroundColor:"black",className:"overlayer",visible:!1,fade:{}})})